module memory;

export package countedReference {
    internal ptr<i64> rawPointer = 0;
    internal i32 references = 0;

    export i32 getReferences() {
        return references;
    }
    export i32 allocateReference() {
        references = references + 1;
    }
    export i32 releaseReference() {
        references = references - 1;
    }
    export ptr<i64> getRawPointer() {
        return rawPointer;
    }
}
